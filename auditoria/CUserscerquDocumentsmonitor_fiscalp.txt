C:\Users\cerqu\Documents\monitor_fiscal>py pnad_windows.py
C:\Users\cerqu\Documents\monitor_fiscal\pnad_windows.py:1: SyntaxWarning: invalid escape sequence '\P'
  """
======================================================================
PNAD via R - WINDOWS
======================================================================
âœ… R encontrado: C:\Program Files\R\R-4.5.2\bin\Rscript.exe

======================================================================
PASSO 1: Instalando Pacotes R
======================================================================

ğŸ“¦ Instalando pacotes R (pode demorar 5-10 min na primeira vez)...

âš ï¸ Avisos/Erros:

======================================================================
PASSO 2: Baixando Dados PNAD
======================================================================

ğŸ“… Anos detectados: 2018-2026

ğŸ”„ Baixando dados da PNAD ContÃ­nua...
   Anos: [2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025, 2026]
   Isso vai demorar ~20-30 minutos...
   Aguarde!

Exception in thread Thread-3 (_readerthread):
Traceback (most recent call last):
  File "C:\Users\cerqu\AppData\Local\Programs\Python\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
    ~~~~~~~~^^
  File "C:\Users\cerqu\AppData\Local\Programs\Python\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cerqu\AppData\Local\Programs\Python\Python313\Lib\subprocess.py", line 1609, in _readerthread
    buffer.append(fh.read())
                  ~~~~~~~^^
  File "C:\Users\cerqu\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 23, in decode
    return codecs.charmap_decode(input,self.errors,decoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeDecodeError: 'charmap' codec can't decode byte 0x9d in position 31: character maps to <undefined>
None

âš ï¸ Avisos do R:

Attaching package: 'dplyr'

The following objects are masked from 'package:stats':

    filter, lag

The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Dados/PNADC_2018_visita1_20250822.zip'
Content type 'application/zip' length 195176028 bytes (186.1 MB)
==================================================
downloaded 186.1 MB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/input_PNADC_2018_visita1_20220224.txt'
Content type 'text/plain; charset=UTF-8' length 28424 bytes (27 KB)
==================================================
downloaded 27 KB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/dicionario_PNADC_microdados_2018_visita1_20220224.xls'
Content type 'application/vnd.ms-excel' length 262656 bytes (256 KB)
==================================================
downloaded 256 KB

Deflator year was not provided, so deflator year was set to 2025.

Deflator data unavailable for selected year, so deflator year was changed to 2024.

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Documentacao_Geral/deflator_PNADC_2024.xls'
Content type 'application/vnd.ms-excel' length 223232 bytes (218 KB)
==================================================
downloaded 218 KB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Dados/PNADC_2019_visita1_20250822.zip'
Content type 'application/zip' length 193339990 bytes (184.4 MB)
==================================================
downloaded 184.4 MB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/input_PNADC_2019_visita1_20230811.txt'
Content type 'text/plain; charset=UTF-8' length 28661 bytes (27 KB)
==================================================
downloaded 27 KB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/dicionario_PNADC_microdados_2019_visita1_20230811.xls'
Content type 'application/vnd.ms-excel' length 234496 bytes (229 KB)
==================================================
downloaded 229 KB

Deflator year was not provided, so deflator year was set to 2025.

Deflator data unavailable for selected year, so deflator year was changed to 2024.

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Documentacao_Geral/deflator_PNADC_2024.xls'
Content type 'application/vnd.ms-excel' length 223232 bytes (218 KB)
==================================================
downloaded 218 KB

Data unavailable for selected interview and year.

Data unavailable for selected interview and year.

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Dados/PNADC_2022_visita1_20250822.zip'
Content type 'application/zip' length 169613807 bytes (161.8 MB)
==================================================
downloaded 161.8 MB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/input_PNADC_2022_visita1_20231129.txt'
Content type 'text/plain; charset=UTF-8' length 28198 bytes (27 KB)
==================================================
downloaded 27 KB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/dicionario_PNADC_microdados_2022_visita1_20231129.xls'
Content type 'application/vnd.ms-excel' length 244224 bytes (238 KB)
==================================================
downloaded 238 KB

Deflator year was not provided, so deflator year was set to 2025.

Deflator data unavailable for selected year, so deflator year was changed to 2024.

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Documentacao_Geral/deflator_PNADC_2024.xls'
Content type 'application/vnd.ms-excel' length 223232 bytes (218 KB)
==================================================
downloaded 218 KB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Dados/PNADC_2023_visita1_20250822.zip'
Content type 'application/zip' length 175925970 bytes (167.8 MB)
==================================================
downloaded 167.8 MB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/input_PNADC_2023_visita1_20241220.txt'
Content type 'text/plain; charset=UTF-8' length 28196 bytes (27 KB)
==================================================
downloaded 27 KB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/dicionario_PNADC_microdados_2023_visita1_20241220.xls'
Content type 'application/vnd.ms-excel' length 244224 bytes (238 KB)
==================================================
downloaded 238 KB

Deflator year was not provided, so deflator year was set to 2025.

Deflator data unavailable for selected year, so deflator year was changed to 2024.

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Documentacao_Geral/deflator_PNADC_2024.xls'
Content type 'application/vnd.ms-excel' length 223232 bytes (218 KB)
==================================================
downloaded 218 KB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Dados/PNADC_2024_visita1_20251119.zip'
Content type 'application/zip' length 177508095 bytes (169.3 MB)
==================================================
downloaded 169.3 MB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/input_PNADC_2024_visita1_20251119.txt'
Content type 'text/plain; charset=UTF-8' length 28194 bytes (27 KB)
==================================================
downloaded 27 KB

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Visita_1/Documentacao/dicionario_PNADC_microdados_2024_visita1_20251119.xls'
Content type 'application/vnd.ms-excel' length 267264 bytes (261 KB)
==================================================
downloaded 261 KB

Deflator year was not provided, so deflator year was set to 2025.

Deflator data unavailable for selected year, so deflator year was changed to 2024.

trying URL 'https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_continua/Anual/Microdados/Visita/Documentacao_Geral/deflator_PNADC_2024.xls'
Content type 'application/vnd.ms-excel' length 223232 bytes (218 KB)
==================================================
downloaded 218 KB

Data unavailable for selected interview and year.

Data unavailable for selected interview and year.

Error in `mutate()`:
Ã¢â€Â¹ In argument: `cod_uf = as.integer(UF)`.
Caused by error:
! object 'UF' not found
Backtrace:
     Ã¢â€“â€ 
  1. Ã¢â€Å“Ã¢â€â‚¬dados_completos %>% mutate(cod_uf = as.integer(UF))
  2. Ã¢â€Å“Ã¢â€â‚¬dplyr::mutate(., cod_uf = as.integer(UF))
  3. Ã¢â€Å“Ã¢â€â‚¬dplyr:::mutate.data.frame(., cod_uf = as.integer(UF))
  4. Ã¢â€â€š Ã¢â€â€Ã¢â€â‚¬dplyr:::mutate_cols(.data, dplyr_quosures(...), by)
  5. Ã¢â€â€š   Ã¢â€Å“Ã¢â€â‚¬base::withCallingHandlers(...)
  6. Ã¢â€â€š   Ã¢â€â€Ã¢â€â‚¬dplyr:::mutate_col(dots[[i]], data, mask, new_columns)
  7. Ã¢â€â€š     Ã¢â€â€Ã¢â€â‚¬mask$eval_all_mutate(quo)
  8. Ã¢â€â€š       Ã¢â€â€Ã¢â€â‚¬dplyr (local) eval()
  9. Ã¢â€â€Ã¢â€â‚¬base::.handleSimpleError(`<fn>`, "object 'UF' not found", base::quote(NULL))
 10.   Ã¢â€â€Ã¢â€â‚¬dplyr (local) h(simpleError(msg, call))
 11.     Ã¢â€â€Ã¢â€â‚¬rlang::abort(message, class = error_class, parent = parent, call = error_call)
Execution halted


âŒ Arquivo pnad_dados.json nÃ£o foi criado

âŒ Falha ao baixar dados

Pressione Enter para sair...